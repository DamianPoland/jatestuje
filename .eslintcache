[{"D:\\JS\\_projects\\jatestuje\\src\\index.js":"1","D:\\JS\\_projects\\jatestuje\\src\\reportWebVitals.js":"2","D:\\JS\\_projects\\jatestuje\\src\\containers\\App\\App.js":"3","D:\\JS\\_projects\\jatestuje\\src\\components\\Footer\\Footer.js":"4","D:\\JS\\_projects\\jatestuje\\src\\components\\Nav\\Nav.js":"5","D:\\JS\\_projects\\jatestuje\\src\\components\\Home\\Home.js":"6","D:\\JS\\_projects\\jatestuje\\src\\shared\\fire.js":"7","D:\\JS\\_projects\\jatestuje\\src\\shared\\constans.js":"8","D:\\JS\\_projects\\jatestuje\\src\\UI\\AlertSmall\\AlertSmall.js":"9","D:\\JS\\_projects\\jatestuje\\src\\UI\\Alert\\Alert.js":"10","D:\\JS\\_projects\\jatestuje\\src\\UI\\Spinner\\Spinner.js":"11","D:\\JS\\_projects\\jatestuje\\src\\UI\\AlertPrivacy\\AlertPrivacy.js":"12","D:\\JS\\_projects\\jatestuje\\src\\components\\PrivacyPolicy\\PrivacyPolicy.js":"13","D:\\JS\\_projects\\jatestuje\\src\\components\\User\\User.js":"14","D:\\JS\\_projects\\jatestuje\\src\\components\\User\\LoginRegisterFirebaseUI\\LoginRegisterFirebaseUI.js":"15","D:\\JS\\_projects\\jatestuje\\src\\shared\\data.js":"16","D:\\JS\\_projects\\jatestuje\\src\\components\\Ad\\Ad.js":"17","D:\\JS\\_projects\\jatestuje\\src\\components\\UserAds\\UserAds.js":"18","D:\\JS\\_projects\\jatestuje\\src\\components\\Contact\\Contact.js":"19"},{"size":515,"mtime":1611559356968,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":499162500000,"results":"22","hashOfConfig":"21"},{"size":2800,"mtime":1612897886636,"results":"23","hashOfConfig":"21"},{"size":2183,"mtime":1612973014323,"results":"24","hashOfConfig":"21"},{"size":2498,"mtime":1612892727789,"results":"25","hashOfConfig":"21"},{"size":13168,"mtime":1612970708522,"results":"26","hashOfConfig":"21"},{"size":1157,"mtime":1611568241107,"results":"27","hashOfConfig":"21"},{"size":327,"mtime":1612893628787,"results":"28","hashOfConfig":"21"},{"size":2429,"mtime":1606299266075,"results":"29","hashOfConfig":"21"},{"size":2122,"mtime":1603695166114,"results":"30","hashOfConfig":"21"},{"size":346,"mtime":1599650450834,"results":"31","hashOfConfig":"21"},{"size":1400,"mtime":1605265466971,"results":"32","hashOfConfig":"21"},{"size":13579,"mtime":1611739019188,"results":"33","hashOfConfig":"21"},{"size":33271,"mtime":1612985866011,"results":"34","hashOfConfig":"21"},{"size":2852,"mtime":1612357951575,"results":"35","hashOfConfig":"21"},{"size":84390,"mtime":1612971782449,"results":"36","hashOfConfig":"21"},{"size":8640,"mtime":1612899216042,"results":"37","hashOfConfig":"21"},{"size":4704,"mtime":1612895238685,"results":"38","hashOfConfig":"21"},{"size":9269,"mtime":1612988289942,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"yzuu5a",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"42"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\JS\\_projects\\jatestuje\\src\\index.js",[],["80","81"],"D:\\JS\\_projects\\jatestuje\\src\\reportWebVitals.js",[],"D:\\JS\\_projects\\jatestuje\\src\\containers\\App\\App.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\Footer\\Footer.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\Nav\\Nav.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\Home\\Home.js",["82"],"import React, { useState, useEffect } from 'react'\r\nimport style from './Home.module.css'\r\nimport { firestore } from '../../shared/fire'\r\n\r\n// data\r\nimport { cars, fuel, yearFrom, yearTo, gearbox, type, regions, cities } from '../../shared/data'\r\n\r\n// constans\r\nimport { ADS } from '../../shared/constans'\r\n\r\n//photos\r\nimport PhotoEmpty from '../../assets/photoEmpty.png'\r\n\r\n\r\n\r\n\r\nconst Home = props => {\r\n\r\n\r\n    // useEffect(() => {\r\n\r\n    //     // scroll to top when component render\r\n    //     window.scrollTo(0, 0)\r\n\r\n    // }, [])\r\n\r\n\r\n    // ----------------------- START FILTERS --------------------------//\r\n\r\n    // STATE - set region\r\n    const [regionChosen, setRegionChosen] = useState(\"\")\r\n\r\n    // STATE - set city\r\n    const [cityChosen, setCityChosen] = useState(\"\")\r\n\r\n    // STATE - set car id (name)\r\n    const [carIdChosen, setCarIdChosen] = useState(\"\")\r\n\r\n    // STATE - set car model\r\n    const [carModelChosen, setCarModelChosen] = useState(\"\")\r\n\r\n    // STATE - set fuel\r\n    const [fualChosen, setFuelChosen] = useState(\"\")\r\n\r\n    // STATE - set year from\r\n    const [yearFromChosen, setYearFromChosen] = useState(\"\")\r\n\r\n    // STATE - set year to\r\n    const [yearToChosen, setYearToChosen] = useState(\"\")\r\n\r\n    // STATE - set gearbox\r\n    const [gearboxChosen, setGearboxChosen] = useState(\"\")\r\n\r\n    // STATE - set type\r\n    const [typeChosen, setTypeChosen] = useState(\"\")\r\n\r\n\r\n\r\n    // set Regions on Change\r\n    const setRegionChosenChandler = e => {\r\n        setRegionChosen(e.target.value)\r\n        setCityChosen(\"\") // reset city when region change\r\n    }\r\n\r\n    // set Car ID on Change\r\n    const setCarIdChosenChandler = e => {\r\n        setCarIdChosen(e.target.value)\r\n        setCarModelChosen(\"\") // reset model when Car ID change\r\n    }\r\n\r\n\r\n\r\n\r\n    // filter ads\r\n    const filterAds = () => {\r\n\r\n        // filters arguments list TODO\r\n        const filterArgList = [regionChosen, cityChosen, carIdChosen, carModelChosen, fualChosen, yearFromChosen, yearToChosen, gearboxChosen, typeChosen]\r\n\r\n        console.log(\"filtrowanie, lista: \", filterArgList);\r\n    }\r\n\r\n    // ----------------------- STOP FILTERS --------------------------//\r\n\r\n\r\n\r\n\r\n    // ----------------------- START ADS  --------------------------//\r\n\r\n    // STATE - set ALL ADS\r\n    const [allAds, setAllAds] = useState([])\r\n\r\n\r\n    // query to DB for items\r\n    const queryToDB = async () => {\r\n\r\n        // reset array\r\n        setAllAds([])\r\n\r\n        //set query constructor\r\n        const queryConstructor = firestore.collection(ADS)\r\n\r\n\r\n\r\n\r\n        //  filters TODO\r\n        // .where(\"regionChosen\", \"==\", \"pomorskie\")\r\n        // .where(\"carIdChosen\", \"==\", \"bmw\")\r\n\r\n\r\n\r\n        try {\r\n\r\n            const query = await queryConstructor\r\n\r\n                // main filters\r\n                // .where(\"isApproved\", \"==\", true) // only approwed ads\r\n                .orderBy(\"adDate\", 'desc') // sortowanie od najnowszego po polu adDate, 'desc' odwraca tablicę i idzie od końca - jak się usunie to będzie brałod początku\r\n                .startAfter(allAds.length !== 0 ? allAds[allAds.length - 1].adDate : new Date().getTime()) // get ads according to value of orderBy(\"adDate\")\r\n                .limit(2) // how many items be loaded from DB\r\n                .get()\r\n\r\n            query.forEach(doc => {\r\n\r\n                // Jeśli mają być ogłoszenia nie starsze niż miesiąc (miesiac = 86400000 * 30 milisekund))\r\n                //if (doc.data().adDate < (new Date().getTime() - 86400000 * 30)) { return }\r\n\r\n                // save  ad in State\r\n                setAllAds(prevState => [...prevState, doc.data()])\r\n\r\n                // promoted ad put extra on top, change adDate because Each child in a list should have a unique \"key\"\r\n                if (doc.data().isPromoted === true) {\r\n                    const item = { ...doc.data() }\r\n                    item.adDate = `1${item.adDate}`\r\n                    setAllAds(prevState => [item, ...prevState])\r\n                }\r\n            })\r\n        } catch (err) { console.log('err get ads', err) }\r\n    }\r\n\r\n    // load ads from DB first time\r\n    useEffect(() => {\r\n\r\n        // start query\r\n        queryToDB()\r\n\r\n    }, [])\r\n\r\n    // ----------------------- STOP ADS  --------------------------//\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <section className={style.background}>\r\n            <div className={style.container}>\r\n\r\n\r\n                {/* DESCRIPTION */}\r\n                <div className={style.description}>\r\n                    <p className={style.description__title}>O co chodzi ... ?</p>\r\n                    <div className={style.description__textContainer}>\r\n\r\n                        <p className={style.description__text}><strong>Szukasz używanego samochodu</strong> ale nie wiesz jaki model będzie odpowiedni dla Ciebie i Twojej rodziny? <strong>Testuj różne modele</strong>, zasięgnij opinii właścicieli i <strong>dokonaj świadomego wyboru.</strong></p>\r\n                        <p className={style.description__text}><strong>Masz już samochód?</strong> Pokazuj go innym i przy okazji <strong>możesz zarabiać</strong>. Dodaj swoje auto do bazy i czekaj na zgłoszenie. Pokażesz swój samochód, opowiesz o nim i dostaniesz za to wcześniej ustaloną kwotę.</p>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                {/* FILTERS */}\r\n                <div className={style.filter}>\r\n                    <p className={style.title}>Filtry</p>\r\n                    <div className={style.filter_container}>\r\n\r\n                        <div className={style.filter__itemContainer}>\r\n                            {/* Filter region */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Województwo:</p>\r\n                                <select className={style.filter__itemList} onChange={setRegionChosenChandler}>\r\n                                    {regions.map(item => <option key={item} value={item}> {item} </option>)}\r\n                                </select>\r\n                            </div>\r\n                            {/* Filter city */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Miasto:</p>\r\n                                <select className={style.filter__itemList} onChange={e => setCityChosen(e.target.value)}>\r\n                                    {cities.filter(item => item.region === regionChosen).map(item => <option key={item.city} value={item.city}> {item.city} </option>)}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Filter cars car brand */}\r\n                        <div className={style.filter__itemContainer}>\r\n                            {/* Filter cars id (name) */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Marka:</p>\r\n                                <select className={style.filter__itemList} onChange={setCarIdChosenChandler}>\r\n                                    {cars.map(item => <option key={item.id} value={item.id}>{item.name}</option>)}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Filter cars model */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Model:</p>\r\n                                <select className={style.filter__itemList} onChange={e => setCarModelChosen(e.target.value)}>\r\n                                    {cars.find(item => item.id === carIdChosen).models.map(item => <option key={item} value={item}>{item}</option>)}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Filter fuel */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Paliwo:</p>\r\n                                <select className={style.filter__itemList} onChange={e => setFuelChosen(e.target.value)}>\r\n                                    {fuel.map(item => <option key={item} value={item}>{item}</option>)}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Filter year */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Rok produkcji:</p>\r\n                                <div className={style.filter__itemContainerItems}>\r\n                                    <select className={style.filter__itemList} onChange={e => setYearFromChosen(e.target.value)}>\r\n                                        {yearFrom.map(item => <option key={item} value={item}>{item}</option>)}\r\n                                    </select>\r\n                                    <select className={style.filter__itemList} onChange={e => setYearToChosen(e.target.value)}>\r\n                                        {yearTo.map(item => <option key={item} value={item}>{item}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Filter gearbox */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Skrzynia biegów:</p>\r\n                                <select className={style.filter__itemList} onChange={e => setGearboxChosen(e.target.value)}>\r\n                                    {gearbox.map(item => <option key={item} value={item}>{item}</option>)}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {/* Filter type */}\r\n                            <div className={style.filter__itemContainerSmall}>\r\n                                <p className={style.filter__itemDesc}>Typ:</p>\r\n                                <select className={style.filter__itemList} onChange={e => setTypeChosen(e.target.value)}>\r\n                                    {type.map(item => <option key={item} value={item}>{item}</option>)}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={style.btnContainer}>\r\n                            <button className={style.btn} onClick={filterAds}>Filtruj</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                {/* ALL ADS */}\r\n                <div className={style.ads}>\r\n                    <p className={style.title}>Ogłoszenia</p>\r\n\r\n                    <div className={style.ads__itemsContainer}>\r\n                        {allAds.map((item) => {\r\n                            return (\r\n                                <a href={`/home/${item.documentKey}`} key={item.adDate} className={style.ads__item} >\r\n\r\n                                    <div className={style.ads__itemContainer}>\r\n                                        <figure className={style.ads__itemFigure}>\r\n                                            <img className={style.ads__itemImg} src={item.imageURL[0] || PhotoEmpty} alt=\"main\" />\r\n                                        </figure>\r\n\r\n                                        <div className={style.ads__itemDescContainer}>\r\n                                            <div className={style.ads__itemDescTop}>\r\n                                                <p className={style.ads__itemText}>{cars.find(i => i.id === item.carIdChosen).name}</p>\r\n                                                <p className={style.ads__itemText}>{item.carModelChosen}</p>\r\n                                            </div>\r\n\r\n                                            {item.isPromoted && <p className={style.ads__itemText}>promowane</p>}\r\n\r\n                                            <div className={style.ads__itemDescBottom}>\r\n                                                <p className={style.ads__itemText}>{item.regionChosen}</p>\r\n                                                <p className={style.ads__itemText}>{item.cityChosen}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className={style.ads__itemDescRight} >\r\n                                        <p className={style.ads__itemText}>{item.priceOfMeeting} zł/h</p>\r\n                                    </div>\r\n                                </a>\r\n                            )\r\n                        })\r\n                        }\r\n\r\n                    </div>\r\n                    <button onClick={queryToDB}>następne</button>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Home\r\n\r\n\r\n\r\n","D:\\JS\\_projects\\jatestuje\\src\\shared\\fire.js",[],"D:\\JS\\_projects\\jatestuje\\src\\shared\\constans.js",[],"D:\\JS\\_projects\\jatestuje\\src\\UI\\AlertSmall\\AlertSmall.js",[],"D:\\JS\\_projects\\jatestuje\\src\\UI\\Alert\\Alert.js",[],"D:\\JS\\_projects\\jatestuje\\src\\UI\\Spinner\\Spinner.js",[],"D:\\JS\\_projects\\jatestuje\\src\\UI\\AlertPrivacy\\AlertPrivacy.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\PrivacyPolicy\\PrivacyPolicy.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\User\\User.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\User\\LoginRegisterFirebaseUI\\LoginRegisterFirebaseUI.js",[],"D:\\JS\\_projects\\jatestuje\\src\\shared\\data.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\Ad\\Ad.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\UserAds\\UserAds.js",[],"D:\\JS\\_projects\\jatestuje\\src\\components\\Contact\\Contact.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":147,"column":8,"nodeType":"89","endLine":147,"endColumn":10,"suggestions":"90"},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'queryToDB'. Either include it or remove the dependency array.","ArrayExpression",["93"],"no-global-assign","no-unsafe-negation",{"desc":"94","fix":"95"},"Update the dependencies array to be: [queryToDB]",{"range":"96","text":"97"},[4205,4207],"[queryToDB]"]